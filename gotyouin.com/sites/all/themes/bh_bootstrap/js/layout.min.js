(function(a){Drupal.behaviors.bh_bootstrap={attach:function(e,h){a(".page-user-customer .views-field.views-field-nid a").click(function(){var b=a(this);""==a(this).find(".icon-trash").attr("id")?!0==confirm("Would you really like to cancel this appointment? This will email the barber notifying them of your request.")&&a.get(a(this).attr("href")):a("#dialog").dialog({resizable:!1,height:300,modal:!0,buttons:{"Cancel all appointments":function(){a(this).dialog("close");!0==confirm("Would you really like to cancel these appointments? This will email the barber notifying them of your request.")&&
a.get(b.attr("href")+"&rDelete=TRUE")},"Only this appointment":function(){a(this).dialog("close");!0==confirm("Would you really like to cancel this appointment? This will email the barber notifying them of your request.")&&a.get(b.attr("href"))},Cancel:function(){a(this).dialog("close")}}});return!1});a(".page-node-add-booking #edit-field-recurring-multiplier, .page-node-add-booking #edit-field-email-time-access").hide();a(".page-user-edit .tabs .nav-pills li a").each(function(){'Account<span class="element-invisible">(active tab)</span>'==
a(this).html()&&a(this).html('User Info<span class="element-invisible">(active tab)</span>');"Account"==a(this).html()&&a(this).html("User Info");'Barber<span class="element-invisible">(active tab)</span>'==a(this).html()&&a(this).html('Barber Info<span class="element-invisible">(active tab)</span>');"Barber"==a(this).html()&&a(this).html("Barber Info");'Shop Owner<span class="element-invisible">(active tab)</span>'==a(this).html()&&a(this).html('Shop Info<span class="element-invisible">(active tab)</span>');
"Shop Owner"==a(this).html()&&a(this).html("Shop Info");'Independent Barber<span class="element-invisible">(active tab)</span>'==a(this).html()&&a(this).html('Barber Info<span class="element-invisible">(active tab)</span>');"Independent Barber"==a(this).html()&&a(this).html("Barber Info")});a(".page-user-edit .tabs .primary li a").each(function(){"View"==a(this).html()&&a(this).html("View Profile")});a(".page-node-edit.node-type-booking .field-name-field-barber, .page-node-edit.node-type-booking  #edit-field-recurring-multiplier, .page-node-edit.node-type-booking #edit-field-email-time-access,  .page-node-edit.node-type-booking #edit-field-recurring-token").hide();
a(".page-user-barbers td.views-field-field-barber-enabled").each(function(){switch(parseInt(a(this).html())){case 1:a(this).html("Yes");break;case 0:a(this).html("No")}});a("#block-views-barbers-block-1 .views-row").click(function(){var b=a(this).find(".views-field-uid a").attr("href"),b=b.replace("/new-appointment?barber_id=","");window.location="/user/"+b});a(".form-item-field-location-und-0-delete-location").hide();a(".views-table").addClass("table");a(".hours a").click(function(){a(".hours .hours-full").toggle();
return!1});var d=new Date;d.setMonth(d.getMonth()+4);a("label[for=edit-field-date-value], #edit-field-date-value").hide();a("body.page-user-customer #edit-field-date-value, body.page-user-appointments #edit-field-date-value, body.page-user-shop-appointments #edit-field-date-value").mobiscroll().date({theme:"default",display:"inline",mode:"scroller",dateOrder:"mmddyyyy",dateFormat:"yy-mm-dd",minDate:new Date,maxDate:d});a(".page-node-add-booking .form-item-field-customer-und,.page-node-add-booking .form-item-field-barber-und,.page-node-add-booking  .vertical-tabs").hide();
a("#views-exposed-form-appointments-page .views-table").addClass("table-striped");a(".page-search-barbershops #search-view-map").click(function(){var a=window.location.href,a=a.replace("barbershops","barbershops/map");window.location=a;return!1});a(".page-search-barbers #search-view-map").click(function(){var a=window.location.href,a=a.replace("barbers","barbers/map");window.location=a;return!1});a("body").hasClass("page-search-barbers-map")||a(".page-search-barbershops .view-header, .page-search-barbers .view-header").prepend('<div id="search-zip-name"><label for="zip_name">Search by Name or Zip</label><input type="text" name="zip_name" /><button>Submit</button></div>');
a("input[name=zip_name]").on("focus",function(b){a("label[for=zip_name]").hide()});a("label[for=zip_name]").on("click",function(b){a("label[for=zip_name]").hide();a("input[name=zip_name]").focus()});a("#search-zip-name button").on("click",function(b){a("views-exposed-form-barbers-page").submit()});a("input[name=zip_name]").on("blur",function(b){if(""!=a(this).val())return!1;a("label[for=zip_name]").show()});if(a("body").hasClass("page-search")){var c,f=a('div.view-header ul.menu-search li a[href="/search/barbershops"]'),
g=a('div.view-header ul.menu-search li a[href="/search/barbers"]');""!=a("#edit-distance-postal-code").val()?(c=a("#edit-distance-postal-code").val(),a("input[name=zip_name]").val(c),a("label[for=zip_name]").hide(),a(function(){a(f).attr("href","/search/barbershops"+location.search);a(g).attr("href","/search/barbers"+location.search)})):""!=a("#edit-title").val()&&(c="/search/barbers"==location.pathname?a("#edit-field-last-name-value").val():a("#edit-title").val(),a("input[name=zip_name]").val(c),
a("label[for=zip_name]").hide(),0<location.search.length&&a(function(){location.search.match(/title=/)||a(f).attr("href",encodeURI("/search/barbershops"+location.search+"&title="+c));location.search.match(/field_first_name_value/)||a(g).attr("href",encodeURI("/search/barbers"+location.search+"&field_first_name_value="+c))}))}a("#search-zip-name button").on("click",function(b){a("div.region-content").css({opacity:0.4});a("#busy").show();a("#edit-distance-postal-code").val(null);a("#edit-title").val(null);
a("#edit-field-display-name-value").val(null);a("#edit-field-first-name-value").val(null);a("#edit-field-last-name-value").val(null);""!=a("input[name=zip_name]").val()&&(b=Number(a("input[name=zip_name]").val()),Math.floor(b)==b?a("#edit-distance-postal-code").val(a("input[name=zip_name]").val()):a("#edit-title, #edit-field-display-name-value, #edit-field-first-name-value, #edit-field-last-name-value ").val(a("input[name=zip_name]").val()));a("#views-exposed-form-shops-page, #views-exposed-form-barbers-page").submit()});
a(".page-search-barbershops .views-field-street span.distance, .page-search-barbers .views-field-street span.distance").each(function(){""==a(this).html()&&a(".page-search-barbershops .views-field-street span.sep, .page-search-barbers .views-field-street span.sep").hide()});a(".page-search-barbers .views-field-field-display-name").each(function(){""==a(this).find("h2").html()?a(this).hide():a(this).parent().find(".views-field-field-last-name").hide()});a(".page-search-barbers .views-field-type").each(function(){"Barber"==
a(this).find(".field-content").html()&&a(this).hide()})}};a(function(){a(window).bind("load unload pageshow",function(){a("div.region-content").css({opacity:1});a("#busy").hide()});a('ul.menu-search li a, a#search-view-map, div.pagination div.item-list li a,  div.views-field-field-last-name a, div.views-row, .btn-schedule a, ul.nav-tabs a, a[href="/register-now"], ul#signup-list a, #edit-submit').on("click",function(e){a(e.target).parent().hasClass("star")?(a("div.region-content").css({opacity:1}),
a("#busy").hide()):(a("div.region-content").css({opacity:0.4}),a("#busy").show())});1==is_mobile_app&&a("form").attr("autocomplete","off");a(".page-user-edit #user-profile-form #edit-cancel").remove();user.is_admin||a("form div.form-item-status").remove();a("div.form-item-htmlmail-plaintext").hide()})})(jQuery);
